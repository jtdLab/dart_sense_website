import{j as s}from"./jsx-runtime.51014c9d.js";import{r as e}from"./index.6460afdd.js";import{c as N}from"./config.6ff69242.js";import{D as F,a as O}from"./DiscordIcon.ac683d06.js";import{u as k,f as U,a as $,P as D,L as S,m as j}from"./motion.4fd21897.js";function I(){const t=e.useRef(!1);return k(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function K(){const t=I(),[i,n]=e.useState(0),r=e.useCallback(()=>{t.current&&n(i+1)},[i]);return[e.useCallback(()=>U.postRender(r),[r]),i]}class T extends e.Component{getSnapshotBeforeUpdate(i){const n=this.props.childRef.current;if(n&&i.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function A({children:t,isPresent:i}){const n=e.useId(),r=e.useRef(null),d=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:u,height:p,top:f,left:h}=d.current;if(i||!r.current||!u||!p)return;r.current.dataset.motionPopId=n;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${p}px !important;
            top: ${f}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[i]),e.createElement(T,{isPresent:i,childRef:r,sizeRef:d},e.cloneElement(t,{ref:r}))}const w=({children:t,initial:i,isPresent:n,onExitComplete:r,custom:d,presenceAffectsLayout:u,mode:p})=>{const f=$(H),h=e.useId(),m=e.useMemo(()=>({id:h,initial:i,isPresent:n,custom:d,onExitComplete:a=>{f.set(a,!0);for(const c of f.values())if(!c)return;r&&r()},register:a=>(f.set(a,!1),()=>f.delete(a))}),u?void 0:[n]);return e.useMemo(()=>{f.forEach((a,c)=>f.set(c,!1))},[n]),e.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),p==="popLayout"&&(t=e.createElement(A,{isPresent:n},t)),e.createElement(D.Provider,{value:m},t)};function H(){return new Map}function _(t){return e.useEffect(()=>()=>t(),[])}const x=t=>t.key||"";function G(t,i){t.forEach(n=>{const r=x(n);i.set(r,n)})}function V(t){const i=[];return e.Children.forEach(t,n=>{e.isValidElement(n)&&i.push(n)}),i}const W=({children:t,custom:i,initial:n=!0,onExitComplete:r,exitBeforeEnter:d,presenceAffectsLayout:u=!0,mode:p="sync"})=>{const f=e.useContext(S).forceRender||K()[0],h=I(),m=V(t);let a=m;const c=e.useRef(new Map).current,g=e.useRef(a),b=e.useRef(new Map).current,v=e.useRef(!0);if(k(()=>{v.current=!1,G(m,b),g.current=a}),_(()=>{v.current=!0,b.clear(),c.clear()}),v.current)return e.createElement(e.Fragment,null,a.map(o=>e.createElement(w,{key:x(o),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:u,mode:p},o)));a=[...a];const C=g.current.map(x),R=m.map(x),M=C.length;for(let o=0;o<M;o++){const l=C[o];R.indexOf(l)===-1&&!c.has(l)&&c.set(l,void 0)}return p==="wait"&&c.size&&(a=[]),c.forEach((o,l)=>{if(R.indexOf(l)!==-1)return;const E=b.get(l);if(!E)return;const z=C.indexOf(l);let y=o;if(!y){const P=()=>{b.delete(l),c.delete(l);const B=g.current.findIndex(L=>L.key===l);if(g.current.splice(B,1),!c.size){if(g.current=m,h.current===!1)return;f(),r&&r()}};y=e.createElement(w,{key:x(E),isPresent:!1,onExitComplete:P,custom:i,presenceAffectsLayout:u,mode:p},E),c.set(l,y)}a.splice(z,0,y)}),a=a.map(o=>{const l=o.key;return c.has(l)?o:e.createElement(w,{key:x(o),isPresent:!0,presenceAffectsLayout:u,mode:p},o)}),e.createElement(e.Fragment,null,c.size?a:a.map(o=>e.cloneElement(o)))},Z=t=>{const[i,n]=e.useState(!1);return s.jsxs("nav",{className:"w-full h-20 flex flex-col justify-center items-center fixed bg-dartsenseBg1 lg:bg-dartsenseBgTransparent z-40 lg:backdrop-blur-xl",children:[s.jsxs("div",{className:"2xl:w-[1280px] xl:w-10/12 w-11/12 flex justify-between items-center relative",children:[s.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:s.jsx("a",{className:"navbar-link",href:"/","aria-label":"Home",children:s.jsxs("div",{className:"flex justify-start items-center grow basis-0",children:[s.jsx("div",{className:"text-white mr-2 text-6xl",children:s.jsx(F,{})}),s.jsx("div",{className:"text-white font-['Inter'] font-bold text-xl",children:N.app})]})})}),s.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:s.jsx("div",{className:"hidden lg:flex h-full pl-12 pb-2",children:t.links?.map(({href:r,label:d,ariaLabel:u})=>s.jsx("a",{className:"navbar-link",href:r,"aria-label":u,children:d},d))})}),s.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:s.jsx("div",{className:"grow basis-0 justify-end items-center hidden lg:flex",children:s.jsx("a",{className:`text-white rounded-xl
           bg-dartsenseBg2 text-sm flex`,href:N.discordUrl,target:"_blank","aria-label":"discord",children:s.jsx(O,{})})})}),t.links?s.jsxs("div",{className:"lg:hidden flex flex-col  px-2 py-3 border-solid border border-gray-600 rounded-md cursor-pointer hover:bg-dartsenseBg2",onClick:()=>n(!i),children:[s.jsx("div",{className:"w-5 h-0.5 bg-gray-500  mb-1"}),s.jsx("div",{className:"w-5 h-0.5 bg-gray-500  mb-1"}),s.jsx("div",{className:"w-5 h-0.5 bg-gray-500 "})]}):s.jsx(s.Fragment,{}),t.langselector]}),s.jsx(W,{children:i&&s.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:s.jsxs("div",{className:`flex flex-col mt-16 lg:hidden absolute top-4 left-0  bg-dartsenseBg1 z-50 w-full 
        items-center gap-10 pb-10 border-y border-solid border-dartsenseBg3 pt-10
        `,children:[t.links?.map(({label:r,href:d,ariaLabel:u})=>s.jsx("a",{className:"navbar-link",href:d,onClick:()=>n(!1),"aria-label":u,children:r},d)),t.langselector]})})})]})};export{Z as Navbar};
