import{j as n}from"./jsx-runtime.51014c9d.js";import{r as e}from"./index.6460afdd.js";import{c as j}from"./config.cc12ddec.js";import{D as F,a as U}from"./DiscordIcon.ac683d06.js";import{u as N,f as S,a as O,P as $,L as D,m as v}from"./motion.4fd21897.js";function I(){const r=e.useRef(!1);return N(()=>(r.current=!0,()=>{r.current=!1}),[]),r}function _(){const r=I(),[i,t]=e.useState(0),s=e.useCallback(()=>{r.current&&t(i+1)},[i]);return[e.useCallback(()=>S.postRender(s),[s]),i]}class K extends e.Component{getSnapshotBeforeUpdate(i){const t=this.props.childRef.current;if(t&&i.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function T({children:r,isPresent:i}){const t=e.useId(),s=e.useRef(null),d=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:u,height:p,top:f,left:x}=d.current;if(i||!s.current||!u||!p)return;s.current.dataset.motionPopId=t;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${p}px !important;
            top: ${f}px !important;
            left: ${x}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[i]),e.createElement(K,{isPresent:i,childRef:s,sizeRef:d},e.cloneElement(r,{ref:s}))}const R=({children:r,initial:i,isPresent:t,onExitComplete:s,custom:d,presenceAffectsLayout:u,mode:p})=>{const f=O(A),x=e.useId(),m=e.useMemo(()=>({id:x,initial:i,isPresent:t,custom:d,onExitComplete:a=>{f.set(a,!0);for(const l of f.values())if(!l)return;s&&s()},register:a=>(f.set(a,!1),()=>f.delete(a))}),u?void 0:[t]);return e.useMemo(()=>{f.forEach((a,l)=>f.set(l,!1))},[t]),e.useEffect(()=>{!t&&!f.size&&s&&s()},[t]),p==="popLayout"&&(r=e.createElement(T,{isPresent:t},r)),e.createElement($.Provider,{value:m},r)};function A(){return new Map}function H(r){return e.useEffect(()=>()=>r(),[])}const h=r=>r.key||"";function G(r,i){r.forEach(t=>{const s=h(t);i.set(s,t)})}function V(r){const i=[];return e.Children.forEach(r,t=>{e.isValidElement(t)&&i.push(t)}),i}const W=({children:r,custom:i,initial:t=!0,onExitComplete:s,exitBeforeEnter:d,presenceAffectsLayout:u=!0,mode:p="sync"})=>{const f=e.useContext(D).forceRender||_()[0],x=I(),m=V(r);let a=m;const l=e.useRef(new Map).current,g=e.useRef(a),b=e.useRef(new Map).current,C=e.useRef(!0);if(N(()=>{C.current=!1,G(m,b),g.current=a}),H(()=>{C.current=!0,b.clear(),l.clear()}),C.current)return e.createElement(e.Fragment,null,a.map(o=>e.createElement(R,{key:h(o),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:u,mode:p},o)));a=[...a];const w=g.current.map(h),k=m.map(h),M=w.length;for(let o=0;o<M;o++){const c=w[o];k.indexOf(c)===-1&&!l.has(c)&&l.set(c,void 0)}return p==="wait"&&l.size&&(a=[]),l.forEach((o,c)=>{if(k.indexOf(c)!==-1)return;const E=b.get(c);if(!E)return;const z=w.indexOf(c);let y=o;if(!y){const P=()=>{b.delete(c),l.delete(c);const B=g.current.findIndex(L=>L.key===c);if(g.current.splice(B,1),!l.size){if(g.current=m,x.current===!1)return;f(),s&&s()}};y=e.createElement(R,{key:h(E),isPresent:!1,onExitComplete:P,custom:i,presenceAffectsLayout:u,mode:p},E),l.set(c,y)}a.splice(z,0,y)}),a=a.map(o=>{const c=o.key;return l.has(c)?o:e.createElement(R,{key:h(o),isPresent:!0,presenceAffectsLayout:u,mode:p},o)}),e.createElement(e.Fragment,null,l.size?a:a.map(o=>e.cloneElement(o)))},Z=r=>{const[i,t]=e.useState(!1);return n.jsxs("nav",{className:"w-full h-20 flex flex-col justify-center items-center fixed bg-dartsenseBg1 lg:bg-dartsenseBgTransparent z-40 lg:backdrop-blur-xl",children:[n.jsxs("div",{className:"2xl:w-[1280px] xl:w-10/12 w-11/12 flex justify-between items-center relative",children:[n.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:n.jsx("a",{className:"navbar-link",href:"/","aria-label":"Home",children:n.jsxs("div",{className:"flex justify-start items-center grow basis-0",children:[n.jsx("div",{className:"text-white mr-2 text-6xl",children:n.jsx(F,{})}),n.jsx("div",{className:"text-white font-['Inter'] font-bold text-xl",children:j.app})]})})}),n.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:n.jsx("div",{className:"hidden lg:flex h-full pl-12 pb-2",children:r.links?.map(({href:s,label:d,ariaLabel:u})=>n.jsx("a",{className:"navbar-link",href:s,"aria-label":u,children:d},d))})}),n.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:n.jsxs("div",{className:"grow basis-0 justify-end items-center hidden lg:flex",children:[n.jsx("a",{className:`text-white rounded-xl
           bg-dartsenseBg2 text-sm flex`,href:j.discordUrl,target:"_blank","aria-label":"discord",children:n.jsx(U,{})}),n.jsx("a",{className:"text-white ml-4 border-2 border-slate-600 rounded-md p-2 hover:border-slate-400",href:j.consoleUrl,target:"_blank","aria-label":"source code",children:"Sign In"})]})}),r.links?n.jsxs("div",{className:"lg:hidden flex flex-col  px-2 py-3 border-solid border border-gray-600 rounded-md cursor-pointer hover:bg-dartsenseBg2",onClick:()=>t(!i),children:[n.jsx("div",{className:"w-5 h-0.5 bg-gray-500  mb-1"}),n.jsx("div",{className:"w-5 h-0.5 bg-gray-500  mb-1"}),n.jsx("div",{className:"w-5 h-0.5 bg-gray-500 "})]}):n.jsx(n.Fragment,{})]}),n.jsx(W,{children:i&&n.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:n.jsxs("div",{className:`flex flex-col mt-16 lg:hidden absolute top-4 left-0  bg-dartsenseBg1 z-50 w-full 
        items-center gap-10 pb-10 border-y border-solid border-dartsenseBg3 pt-10
        `,children:[n.jsx("a",{className:"navbar-link",href:j.consoleUrl,target:"_blank","aria-label":"source code",children:"Sign In"}),r.links?.map(({label:s,href:d,ariaLabel:u})=>n.jsx("a",{className:"navbar-link",href:d,onClick:()=>t(!1),"aria-label":u,children:s},d))]})})})]})};export{Z as Navbar};
