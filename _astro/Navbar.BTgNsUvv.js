import{j as r}from"./jsx-runtime.BPj4-Rfu.js";import{r as e}from"./index.SSXOyoI7.js";import{c as z}from"./config.C8XbsCyO.js";import{D as S,a as K}from"./DiscordIcon.Y_q5fHj2.js";import{u as I,f as L,M as U,a as $,P as D,L as T,m as j}from"./motion.DFopd_kO.js";function P(){const t=e.useRef(!1);return I(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function H(){const t=P(),[a,n]=e.useState(0),s=e.useCallback(()=>{t.current&&n(a+1)},[a]);return[e.useCallback(()=>L.postRender(s),[s]),a]}class G extends e.Component{getSnapshotBeforeUpdate(a){const n=this.props.childRef.current;if(n&&a.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _({children:t,isPresent:a}){const n=e.useId(),s=e.useRef(null),c=e.useRef({width:0,height:0,top:0,left:0}),{nonce:d}=e.useContext(U);return e.useInsertionEffect(()=>{const{width:m,height:u,top:x,left:p}=c.current;if(a||!s.current||!m||!u)return;s.current.dataset.motionPopId=n;const i=document.createElement("style");return d&&(i.nonce=d),document.head.appendChild(i),i.sheet&&i.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${u}px !important;
            top: ${x}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(i)}},[a]),e.createElement(G,{isPresent:a,childRef:s,sizeRef:c},e.cloneElement(t,{ref:s}))}const N=({children:t,initial:a,isPresent:n,onExitComplete:s,custom:c,presenceAffectsLayout:d,mode:m})=>{const u=$(V),x=e.useId(),p=e.useMemo(()=>({id:x,initial:a,isPresent:n,custom:c,onExitComplete:i=>{u.set(i,!0);for(const l of u.values())if(!l)return;s&&s()},register:i=>(u.set(i,!1),()=>u.delete(i))}),d?void 0:[n]);return e.useMemo(()=>{u.forEach((i,l)=>u.set(l,!1))},[n]),e.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),m==="popLayout"&&(t=e.createElement(_,{isPresent:n},t)),e.createElement(D.Provider,{value:p},t)};function V(){return new Map}function W(t){return e.useEffect(()=>()=>t(),[])}const h=t=>t.key||"";function q(t,a){t.forEach(n=>{const s=h(n);a.set(s,n)})}function A(t){const a=[];return e.Children.forEach(t,n=>{e.isValidElement(n)&&a.push(n)}),a}const J=({children:t,custom:a,initial:n=!0,onExitComplete:s,exitBeforeEnter:c,presenceAffectsLayout:d=!0,mode:m="sync"})=>{const u=e.useContext(T).forceRender||H()[0],x=P(),p=A(t);let i=p;const l=e.useRef(new Map).current,v=e.useRef(i),g=e.useRef(new Map).current,C=e.useRef(!0);if(I(()=>{C.current=!1,q(p,g),v.current=i}),W(()=>{C.current=!0,g.clear(),l.clear()}),C.current)return e.createElement(e.Fragment,null,i.map(o=>e.createElement(N,{key:h(o),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:d,mode:m},o)));i=[...i];const E=v.current.map(h),w=p.map(h),B=E.length;for(let o=0;o<B;o++){const f=E[o];w.indexOf(f)===-1&&!l.has(f)&&l.set(f,void 0)}return m==="wait"&&l.size&&(i=[]),l.forEach((o,f)=>{if(w.indexOf(f)!==-1)return;const R=g.get(f);if(!R)return;const F=E.indexOf(f);let b=o;if(!b){const O=()=>{l.delete(f);const k=Array.from(g.keys()).filter(y=>!w.includes(y));if(k.forEach(y=>g.delete(y)),v.current=p.filter(y=>{const M=h(y);return M===f||k.includes(M)}),!l.size){if(x.current===!1)return;u(),s&&s()}};b=e.createElement(N,{key:h(R),isPresent:!1,onExitComplete:O,custom:a,presenceAffectsLayout:d,mode:m},R),l.set(f,b)}i.splice(F,0,b)}),i=i.map(o=>{const f=o.key;return l.has(f)?o:e.createElement(N,{key:h(o),isPresent:!0,presenceAffectsLayout:d,mode:m},o)}),e.createElement(e.Fragment,null,l.size?i:i.map(o=>e.cloneElement(o)))},te=t=>{const[a,n]=e.useState(!1);return r.jsxs("nav",{className:"w-full h-20 flex flex-col justify-center items-center fixed bg-dartsenseBg1 lg:bg-dartsenseBgTransparent z-40 lg:backdrop-blur-xl",children:[r.jsxs("div",{className:"2xl:w-[1280px] xl:w-10/12 w-11/12 flex justify-between items-center relative",children:[r.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:r.jsx("a",{className:"navbar-link",href:t.linkGoToHome,"aria-label":"Home",children:r.jsxs("div",{className:"flex justify-start items-center grow basis-0",children:[r.jsx("div",{className:"text-white mr-2 text-6xl",children:r.jsx(S,{})}),r.jsx("div",{className:"text-white font-['Inter'] font-bold text-xl",children:z.app})]})})}),r.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:r.jsx("div",{className:"hidden lg:flex h-full pl-12 pb-2",children:t.links?.map(({href:s,label:c,ariaLabel:d})=>r.jsx("a",{className:"navbar-link",href:s,"aria-label":d,children:c},c))})}),r.jsxs("div",{className:"flex p-4 items-center",children:[r.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:r.jsx("div",{className:"grow basis-0 justify-end items-center hidden lg:flex",children:r.jsx("a",{className:`text-white rounded-xl
           bg-dartsenseBg2 text-sm flex`,href:z.discordUrl,target:"_blank","aria-label":"discord",children:r.jsx(K,{})})})}),r.jsx("div",{className:"hidden lg:flex",children:t.languageSelector})]}),t.links?r.jsxs("div",{className:"lg:hidden flex flex-col px-2 py-3 border-solid border border-gray-600 rounded-md cursor-pointer hover:bg-dartsenseBg2",onClick:()=>n(!a),children:[r.jsx("div",{className:"w-5 h-0.5 bg-gray-500  mb-1"}),r.jsx("div",{className:"w-5 h-0.5 bg-gray-500  mb-1"}),r.jsx("div",{className:"w-5 h-0.5 bg-gray-500 "})]}):r.jsx(r.Fragment,{})]}),r.jsx(J,{children:a&&r.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:r.jsxs("div",{className:`flex flex-col mt-16 lg:hidden absolute top-4 left-0  bg-dartsenseBg1 z-50 w-full 
        items-center gap-10 pb-10 border-y border-solid border-dartsenseBg3 pt-10
        `,children:[t.links?.map(({label:s,href:c,ariaLabel:d})=>r.jsx("a",{className:"navbar-link p-2",href:c,onClick:()=>n(!1),"aria-label":d,children:s},c)),t.languageSelector]})})})]})};export{te as Navbar};
