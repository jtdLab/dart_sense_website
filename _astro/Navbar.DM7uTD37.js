import{j as e}from"./jsx-runtime.CYYqVSlZ.js";import{r}from"./index.DJO9vBfz.js";import{c as k}from"./config.CojhlyeL.js";import{D as z,a as P}from"./DiscordIcon.C7EvAgjR.js";import{M as S,u as R,P as L,a as D,L as $,m as j}from"./motion.atEIsRaC.js";class H extends r.Component{getSnapshotBeforeUpdate(a){const t=this.props.childRef.current;if(t&&a.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function T({children:s,isPresent:a}){const t=r.useId(),n=r.useRef(null),c=r.useRef({width:0,height:0,top:0,left:0}),{nonce:d}=r.useContext(S);return r.useInsertionEffect(()=>{const{width:p,height:i,top:h,left:g}=c.current;if(a||!n.current||!p||!i)return;n.current.dataset.motionPopId=t;const o=document.createElement("style");return d&&(o.nonce=d),document.head.appendChild(o),o.sheet&&o.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${i}px !important;
            top: ${h}px !important;
            left: ${g}px !important;
          }
        `),()=>{document.head.removeChild(o)}},[a]),e.jsx(H,{isPresent:a,childRef:n,sizeRef:c,children:r.cloneElement(s,{ref:n})})}const U=({children:s,initial:a,isPresent:t,onExitComplete:n,custom:c,presenceAffectsLayout:d,mode:p})=>{const i=R(F),h=r.useId(),g=r.useMemo(()=>({id:h,initial:a,isPresent:t,custom:c,onExitComplete:o=>{i.set(o,!0);for(const f of i.values())if(!f)return;n&&n()},register:o=>(i.set(o,!1),()=>i.delete(o))}),d?[Math.random()]:[t]);return r.useMemo(()=>{i.forEach((o,f)=>i.set(f,!1))},[t]),r.useEffect(()=>{!t&&!i.size&&n&&n()},[t]),p==="popLayout"&&(s=e.jsx(T,{isPresent:t,children:s})),e.jsx(L.Provider,{value:g,children:s})};function F(){return new Map}const y=s=>s.key||"";function E(s){const a=[];return r.Children.forEach(s,t=>{r.isValidElement(t)&&a.push(t)}),a}const G=({children:s,exitBeforeEnter:a,custom:t,initial:n=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:p="sync"})=>{const i=r.useMemo(()=>E(s),[s]),h=i.map(y),g=r.useRef(!0),o=r.useRef(i),f=R(()=>new Map),[M,B]=r.useState(i),[x,w]=r.useState(i);D(()=>{g.current=!1,o.current=i;for(let u=0;u<x.length;u++){const l=y(x[u]);h.includes(l)?f.delete(l):f.get(l)!==!0&&f.set(l,!1)}},[x,h.length,h.join("-")]);const b=[];if(i!==M){let u=[...i];for(let l=0;l<x.length;l++){const m=x[l],C=y(m);h.includes(C)||(u.splice(l,0,m),b.push(m))}p==="wait"&&b.length&&(u=b),w(E(u)),B(i);return}const{forceRender:v}=r.useContext($);return e.jsx(e.Fragment,{children:x.map(u=>{const l=y(u),m=i===x||h.includes(l),C=()=>{if(f.has(l))f.set(l,!0);else return;let N=!0;f.forEach(I=>{I||(N=!1)}),N&&(v?.(),w(o.current),c&&c())};return e.jsx(U,{isPresent:m,initial:!g.current||n?void 0:!1,custom:m?void 0:t,presenceAffectsLayout:d,mode:p,onExitComplete:m?void 0:C,children:u},l)})})},W=s=>{const[a,t]=r.useState(!1);return e.jsxs("nav",{className:"w-full h-20 flex flex-col justify-center items-center fixed bg-dartsenseBg1 lg:bg-dartsenseBgTransparent z-40 lg:backdrop-blur-xl",children:[e.jsxs("div",{className:"2xl:w-[1280px] xl:w-10/12 w-11/12 flex justify-between items-center relative",children:[e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:e.jsx("a",{className:"navbar-link",href:s.linkGoToHome,"aria-label":"Home",children:e.jsxs("div",{className:"flex justify-start items-center grow basis-0",children:[e.jsx("div",{className:"text-white mr-2 text-6xl",children:e.jsx(z,{})}),e.jsx("div",{className:"text-white font-['Inter'] font-bold text-xl",children:k.app})]})})}),e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:e.jsx("div",{className:"hidden lg:flex h-full pl-12 pb-2",children:s.links?.map(({href:n,label:c,ariaLabel:d})=>e.jsx("a",{className:"navbar-link",href:n,"aria-label":d,children:c},c))})}),e.jsxs("div",{className:"flex p-4 items-center",children:[e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:e.jsx("div",{className:"grow basis-0 justify-end items-center hidden lg:flex",children:e.jsx("a",{className:`text-white rounded-xl
           bg-dartsenseBg2 text-sm flex`,href:k.discordUrl,target:"_blank","aria-label":"discord",children:e.jsx(P,{})})})}),e.jsx("div",{className:"hidden lg:flex",children:s.languageSelector})]}),s.links?e.jsxs("div",{className:"lg:hidden flex flex-col px-2 py-3 border-solid border border-gray-600 rounded-md cursor-pointer hover:bg-dartsenseBg2",onClick:()=>t(!a),children:[e.jsx("div",{className:"w-5 h-0.5 bg-gray-500  mb-1"}),e.jsx("div",{className:"w-5 h-0.5 bg-gray-500  mb-1"}),e.jsx("div",{className:"w-5 h-0.5 bg-gray-500 "})]}):e.jsx(e.Fragment,{})]}),e.jsx(G,{children:a&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:e.jsxs("div",{className:`flex flex-col mt-16 lg:hidden absolute top-4 left-0  bg-dartsenseBg1 z-50 w-full 
        items-center gap-10 pb-10 border-y border-solid border-dartsenseBg3 pt-10
        `,children:[s.links?.map(({label:n,href:c,ariaLabel:d})=>e.jsx("a",{className:"navbar-link p-2",href:c,onClick:()=>t(!1),"aria-label":d,children:n},c)),s.languageSelector]})})})]})};export{W as Navbar};
